---
alwaysApply: true
---

# Testing

- Use Vitest in browser mode with Playwright for unit tests (hooks, utilities, logic, components).
- Configure Vitest with `@vitest/browser` using Playwright provider for real browser testing environment.
- Avoid jsdom/happydom environment; use browser mode to test in actual browser context.
- Use Storybook `play()` for interaction tests (e.g., opening a date picker).
- Avoid `data-testid`; prefer semantic selectors and a11y-first queries:
  - Use `getByRole`, `getByLabelText`, `getByText`, etc., mirroring assistive technology navigation.
- Add E2E tests with Playwright for critical flows.
- Use `@faker-js/faker` for test and demo data; persist fixtures where helpful; add as a dev dependency.
